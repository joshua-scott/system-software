TODO

Split the working file into different files (.c, .h)